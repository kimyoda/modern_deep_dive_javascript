# 9.2 암묵적 타입 변환

---

- 자스 엔진은 데이터 타입을 강제 변환(암묵적 타입 변환)할 때가 있다.

예제 09 - 03

```js
// 피연산자가 모두 문자열 타입이어야 함
"10" + 2; // '102'

//  피연산자가 모두 숫자 타입이어야 함
5 * "10"; // 50

// 피연산자 또는 표현식이 불리언 타입이어야 함
!0; // false
if (1) {
}
```

- 코드의 문맥에 부합하지 않은 다양한 상황이 발생할 수 있다.
- 암묵적 타입 변환이 발생하면 문자열, 숫자, 불리언과 같은 원시 타입 중 하나로 타입을 자동 변환한다.

---

### 9.2.1 문자열 타입으로 변환

예제 09 - 04

```js
1 + "2"; // -> '12'
```

- +연산자는 피연산 자 중 문자열으로 문자열 연결 연산자로 동작한다.
- 문자열 연결 연산자의 피연산자 중에서 피연산자를 문자열 타입으로 암묵적 타입 변환한다.
- ES6에서 템플릿 리터럴의 표현식 삽입은 평가 결과를 문자열 타입으로 암묵적 타입 변환한다.

예제 09 - 05

```JS
`1 + 1 = ${1 + 1}` // -> "1 + 1 = 2"
```

- 문자열 타입이 아닌 값을 문자열 타입으로 암묵적 타입 변환을 할 때 같이 동작한다.

예제 09 - 06

```JS
// 숫자 타입
0 + '' // -> "0"
-0 + '' // -> "0"
1 + '' // -> "1"
-1 + '' // -> "-1"
NaN + '' // -> "NaN"
Infinity + '' // -> "Infinity"
-Infinity + '' // -> "-Infinity"

// 불리언 타입
true + '' // -> "true"
false + '' // -> "false"

// null 타입
null + '' // -> "null"

// undefined 타입
undefined + '' // -> "undefined"

// 심벌 타입
(Symbol()) + '' // -> TypeError: Cannot convert a Symbol value to a string

// 객체타입
({}) + ''; // -> "[object Object]"
Math + ''; // -> "[object Math]"
[] + '' // -> ""
[10, 20] + '' // -> "10, 20"
(function(){}) + '' // -> "function(){}"
Array + '' // -> "function Array() { [native code] }"
```

---

### 9.2.2. 숫자 타입으로 변환

예제 09 - 07

```JS
1 - '1' // 0
1 * '10' // 10
1 / 'one' // NaN
```

- 산술 연산자는 코드 문맥상 모두 숫자 타입이어야 한다.
- 산술 연산자의 피연산자 중 숫자 타입이 아닌 피연산자를 숫자 타입으로 변환한다.
- 피연산자를 숫자 타입으로 변환할 수 없는 경우 산술 연산을 수행할 수 없어 표현식의 평가 결과는 NaN이 된다.

예제 09 - 08

```js
"1" > 0; // true
```

- 비교 연산자의 역할은 불리언 값을 만드는 것이다.
- 비교연산자는 크기를 비교해 모두 숫자 타입이어야 한다.
- 비교 연산자의 피연산자 중 숫자타입이 아닌 피연산자를 숫자 타입으로 암묵적 타입 변환한다.
- +단항 연산자는 피연산자가 숫자 타입의 값이 아니면 숫자 타입의 값으로 암묵적 타입 변환을 수행한다.

예제 09 - 09

```js
// 문자열 타입
+"" + // -> 0
  "0" + // -> 0
  "1" + // -> 1
  "string" + // -> NaN
  // 불리언 타입
  true + // -> 1
  false + // -> 0
  // null 타입
  null + // -> 0
  // undefined 타입
  undefined + // -> NaN
  // 심벌 타입
  Symbol() + // -> TypeError
  // 객체 타입
  {} + // -> NaN
  [] + // -> 0
  [10, 20] + // -> NaN
  function () {}; // -> NaN
```

- 빈 문자열, 빈배열, null, false는 0 / true는 1로 변환된다.
- 객체와 빈배열이 아닌 배열, undefined는 변환되지 않ㅇ나 NaN이 된다.

---

### 9.2.3. 불리언 타입으로 변환

예제 09 - 10

```js
if ("") console.log(x);
```

- if문, for문 제어문 혹은 삼항 조건 연산자의 조건식은 불리언값 표현식이다.
- 조건식의 평가 결과를 불리언 타입으로 암묵적 타입 변환한다.

예제 09 - 11

```js
if ("") console.log("1");
if (true) console.log("2");
if (0) console.log("3");
if ("str") console.log("4");
if (null) console.log("5");
// 2 4
```

- 불리언 타입이 아닌 값을 Truthy 값(참으로 평가) 또는 Falsy 값(거짓으로 평가)으로 구분한다.
- Truth값은 true로 false값은 false로 암묵적 타입변환된다.
- false
- undefined
- null
- 0.-0
- NaN
- ‘’(빈 문자열)

예제 09 - 12

```js
// 아래의 조건문은 모두 코드 블록을 실행한다.
if (!false) console.log(false + " is falsy value");
if (!undefined) console.log(undefined + " is falsy value");
if (!null) console.log(null + " is falsy value");
if (!0) console.log(0 + " is falsy value");
if (!NaN) console.log(NaN + " is falsy value");
if (!"") console.log("" + " is falsy value");
```

- Falsy 값 외의 모든 값은 모두 true로 평가되는 Truth 값이다.

예제 09 - 13

```js
// 전달받은 인수가 Falsy 값이면 true, Truthy 값이면 false를 반환한다.
function isFalsy(v) {
  return v;
}

// 전달받은 인수가 Truthy 값이면 true, Falsy 값이면 false를 반환한다.
function isTruthy(v) {
  return !!v;
}

// 모두 true를 반환한다.
isFalsy(false);
isFalsy(undefined);
isFalsy(null);
isFalsy(0);
isFalsy(NaN);
isFalsy("");

// 모두 true를 반환한다.
isTruthy(true);
isTruthy("0"); // 빈 문자열이 아닌 문자열은 Truthy 값이다.
isTruthy({});
isTruthy([]);
```

함수

<aside>
💡

함수란 어떤 작업을 수행하는데 필요한 문들의 집합을 정의한 코드 블록이다. 함수는 이름과 매개변수를 가지며, 필요할 때 호출해 코드 블록에 담긴 문들을 일괄적으로 실행할 수 있다.

</aside>
